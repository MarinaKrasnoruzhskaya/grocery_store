# Проект магазина продуктов

Реализован проект магазина продуктов. Любой пользователь может просмотреть все категории товаров с подкатегориями, все
продукты магазина. Зарегистрированный пользователь может 
- добавить в корзину продукт, изменить его количество или удалить; 
- вывести состав корзины с подсчетом количества товаров и суммы стоимости товаров;
- полностью очистить корзину.

## Инструкции по развертыванию проекта с Docker

1. Убедиться, что установлен Docker, Docker-compose
2. Клонировать репозиторий
   ```sh
   git clone git@github.com/MarinaKrasnoruzhskaya/grocery_store
   ```
3. Заполнить файл ```.env.sample``` и переименовать его в файл с именем ```.env```
4. Собрать образ
   ```sh
   docker-compose build
   ```
5. Запустить контейнеры
   ```sh
   docker-compose up
   ```
6. Запустить тестирование
   ```sh
   docker-compose exec app coverage run --source='.' manage.py test
   docker-compose exec app coverage report -m
   ```

## Инструкции по развертыванию проекта без Docker

1. Клонировать репозиторий
   ```sh
   git clone git@github.com/MarinaKrasnoruzhskaya/grocery_store
   ```
2. Перейти в директорию
   ```sh
   cd grocery_store
   ```
3. Установить виртуальное окружение
   ```sh
   python -m venv env
   ```
4. Активировать виртуальное окружение
   ```sh
   source env/bin/activate
   ```
5. Установить зависимости
   ```sh
   pip install -r requirements.txt
   ```
6. Заполнить файл ```.env.sample``` и переименовать его в файл с именем ```.env```
7. Создать БД ```uds```
   ```
   psql -U postgres
   create database grocery_store;  
   \q
   ```
8. Применить миграции
    ```sh
   python manage.py migrate
    ```
9. Создать суперпользователя
    ```sh
   python manage.py csu
   ```
10. Запустить тестирование
   ```sh
   coverage run --source='.' manage.py test
   coverage report -m
   ```

## Документация проекта:

1. http://127.0.0.1:8000/swagger-ui/
2. http://127.0.0.1:8000/redoc/

## Пользователь проекта:

superuser: {"email": "admin@shop.ru", "password": "admin"}

## Возможные действия в Django Admin:

- создание, редактирование, удаление категорий и подкатегорий товаров;
- добавление, изменение, удаление продуктов.

## Эндпоинты проекта:

- /users/register/ - регистрация пользователя;
- /users/login/ - получение веб-токенов для доступа и обновления, для подтверждения подлинности учетных данных;
- /users/token/refresh/ - получение веб-токен доступа
- /categories/ - просмотр всех категорий с подкатегориями с пагинацией
- /categories/products/ - вывод всех продуктов с пагинацией
- /cart/ - отображения содержимого корзины авторизованного пользователя
- /cart/cart_products/ - добавление продукта в корзину, изменение количества продукта в корзине и удаление продукта
- /cart/clean/ - полная очистка корзины авторизованного пользователя

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE)
